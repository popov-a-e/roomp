<template>
  <footer>
    <button v-on:click='footerToggle' v-if='home'>
      <!--<i v-bind:class="{'icon-chevron-top': !footerVisible, 'icon-chevron-down': footerVisible}"></i>-->
    </button>
    <div class='white-space' v-if='home'></div>
    <div class='footer'>
      <div v-for='category in categories'>
        <h3>{{__('footer.'+category.name)}}</h3>
        <a v-for='_page in category.pages' v-bind:href='_page.link'>{{__('footer.'+_page.name)}}</a>
      </div>
      
      <div class='subscribe'>
        <h3>{{__('footer.newsletter')}}</h3>
        <span class="social">
          <a href="https://vk.com/roomp" target="blank"><i class="fab fa-vk"></i></a>
          <a href="https://www.facebook.com/roomp.co/" target="blank"><i class="fab fa-facebook"></i></a>
          <a href="https://twitter.com/roompofficial" target="blank"><i class="fab fa-twitter"></i></a>
          <a href="https://www.instagram.com/roomp.co/" target="blank"><i class="fab fa-instagram"></i></a>
        </span>
        
        <input :placeholder='__("footer.email")' v-model='email' />
        <a href='javascript:void(0);' v-on:click='subscribe'><i class='icon-arrow'></i></a>
        <hr>
  
        <div class='blocks'>
          <svg x="0px" y="0px" viewBox="335 260 122 93" height="30">
            <g>
              <rect x="322.6" y="245.8" style='fill:none;' width="146.8" height="120.4"></rect>
              <g>
                <g>
                  <path id="XMLID_1775_" d="M358.9,351.1v-6c0-2.3-1.4-3.8-3.8-3.8c-1.2,0-2.5,0.4-3.4,1.7c-0.7-1.1-1.7-1.7-3.2-1.7
            c-1,0-2,0.3-2.8,1.4v-1.2h-2.1v9.6h2.1v-5.3c0-1.7,0.9-2.5,2.3-2.5c1.4,0,2.1,0.9,2.1,2.5v5.3h2.1v-5.3c0-1.7,1-2.5,2.3-2.5
            c1.4,0,2.1,0.9,2.1,2.5v5.3H358.9z M390,341.5h-3.4v-2.9h-2.1v2.9h-1.9v1.9h1.9v4.4c0,2.2,0.9,3.5,3.3,3.5
            c0.9,0,1.9-0.3,2.6-0.7l-0.6-1.8c-0.6,0.4-1.3,0.5-1.8,0.5c-1,0-1.4-0.6-1.4-1.6v-4.3h3.4V341.5z M407.8,341.3
            c-1.2,0-2,0.6-2.5,1.4v-1.2h-2.1v9.6h2.1v-5.4c0-1.6,0.7-2.5,2-2.5c0.4,0,0.9,0.1,1.3,0.2l0.6-2
            C408.8,341.3,408.2,341.3,407.8,341.3L407.8,341.3z M380.9,342.3c-1-0.7-2.4-1-3.9-1c-2.4,0-4,1.2-4,3.1c0,1.6,1.2,2.5,3.3,2.8
            l1,0.1c1.1,0.2,1.7,0.5,1.7,1c0,0.7-0.8,1.2-2.2,1.2c-1.4,0-2.5-0.5-3.2-1l-1,1.6c1.1,0.8,2.6,1.2,4.1,1.2
            c2.8,0,4.4-1.3,4.4-3.1c0-1.7-1.3-2.6-3.3-2.9l-1-0.1c-0.9-0.1-1.6-0.3-1.6-0.9c0-0.7,0.7-1.1,1.8-1.1c1.2,0,2.4,0.5,3,0.8
            L380.9,342.3z M436.7,341.3c-1.2,0-2,0.6-2.5,1.4v-1.2h-2.1v9.6h2.1v-5.4c0-1.6,0.7-2.5,2-2.5c0.4,0,0.9,0.1,1.3,0.2l0.6-2
            C437.7,341.3,437.1,341.3,436.7,341.3L436.7,341.3z M409.9,346.3c0,2.9,2,5,5.1,5c1.4,0,2.4-0.3,3.4-1.1l-1-1.7
            c-0.8,0.6-1.6,0.9-2.5,0.9c-1.7,0-2.9-1.2-2.9-3.1c0-1.8,1.2-3,2.9-3.1c0.9,0,1.7,0.3,2.5,0.9l1-1.7c-1-0.8-2-1.1-3.4-1.1
            C411.9,341.3,409.9,343.4,409.9,346.3L409.9,346.3z M429.3,346.3v-4.8h-2.1v1.2c-0.7-0.9-1.7-1.4-3-1.4c-2.7,0-4.8,2.1-4.8,5
            c0,2.9,2.1,5,4.8,5c1.4,0,2.4-0.5,3-1.4v1.2h2.1V346.3z M421.6,346.3c0-1.7,1.1-3.1,2.9-3.1c1.7,0,2.9,1.3,2.9,3.1
            c0,1.7-1.2,3.1-2.9,3.1C422.7,349.3,421.6,348,421.6,346.3L421.6,346.3z M396.5,341.3c-2.8,0-4.8,2-4.8,5c0,3,2,5,4.9,5
            c1.4,0,2.8-0.4,3.9-1.3l-1-1.5c-0.8,0.6-1.8,1-2.8,1c-1.3,0-2.6-0.6-2.9-2.3h7.1c0-0.3,0-0.5,0-0.8
            C401,343.3,399.2,341.3,396.5,341.3L396.5,341.3z M396.5,343.1c1.3,0,2.2,0.8,2.4,2.3h-5C394.1,344.1,395,343.1,396.5,343.1
            L396.5,343.1z M448.6,346.3v-8.6h-2.1v5c-0.7-0.9-1.7-1.4-3-1.4c-2.7,0-4.8,2.1-4.8,5c0,2.9,2.1,5,4.8,5c1.4,0,2.4-0.5,3-1.4
            v1.2h2.1V346.3z M440.9,346.3c0-1.7,1.1-3.1,2.9-3.1c1.7,0,2.9,1.3,2.9,3.1c0,1.7-1.2,3.1-2.9,3.1
            C442,349.3,440.9,348,440.9,346.3L440.9,346.3z M370.7,346.3v-4.8h-2.1v1.2c-0.7-0.9-1.7-1.4-3-1.4c-2.7,0-4.8,2.1-4.8,5
            c0,2.9,2.1,5,4.8,5c1.4,0,2.4-0.5,3-1.4v1.2h2.1V346.3z M362.9,346.3c0-1.7,1.1-3.1,2.9-3.1c1.7,0,2.9,1.3,2.9,3.1
            c0,1.7-1.2,3.1-2.9,3.1C364,349.3,362.9,348,362.9,346.3z"></path>
                </g>
                <g id="XMLID_328_">
                  <rect x="380.2" y="268.6" style='fill: #FF5F00;' width="31.5" height="56.6"></rect>
                  <path id="XMLID_330_" style='fill: #EB001B;' d="M382.2,296.9c0-11.5,5.4-21.7,13.7-28.3c-6.1-4.8-13.8-7.7-22.2-7.7
            c-19.9,0-36,16.1-36,36c0,19.9,16.1,36,36,36c8.4,0,16.1-2.9,22.2-7.7C387.6,318.7,382.2,308.4,382.2,296.9z"></path>
                  <path style='fill: #F79E1B;' d="M454.2,296.9c0,19.9-16.1,36-36,36c-8.4,0-16.1-2.9-22.2-7.7c8.4-6.6,13.7-16.8,13.7-28.3
            s-5.4-21.7-13.7-28.3c6.1-4.8,13.8-7.7,22.2-7.7C438.1,260.9,454.2,277.1,454.2,296.9z"></path>
                </g>
              </g>
            </g>
          </svg>
          <svg height="20" viewBox="0 0 88.0487 26.9959">
            <g id="g5088">
              <polygon points="31.0183,26.6077 35.4754,0.453591 42.6041,0.453591 38.1441,26.6077 31.0183,26.6077 " style="fill:#004686;stroke:none" id="polygon10"></polygon>
              <path d="M 63.9988,1.09833 C 62.58648,0.567483 60.37334,0 57.60947,0 C 50.56588,-0.000710068 45.60377,3.54707 45.56177,8.63087 C 45.522148,12.38869 49.10401,14.48524 51.80809,15.73623 C 54.58289,17.01719 55.51564,17.83547 55.50243,18.98039 C 55.484962,20.73255 53.28659,21.53422 51.23762,21.53422 C 48.38443,21.533936 46.86857,21.138002 44.52748,20.16152 L 43.608936,19.745136 L 42.608446,25.599926 C 44.273696,26.330302 47.352406,26.962976 50.549136,26.995916 C 58.042626,26.99549 62.907136,23.489316 62.962436,18.060706 C 62.989419,15.085096 61.090126,12.821396 56.977556,10.954776 C 54.485926,9.744256 52.959706,8.937616 52.975896,7.712606 C 52.976038,6.625206 54.267506,5.462966 57.058216,5.462966 C 59.389656,5.4259005 61.077906,5.935019 62.393526,6.464876 L 63.032587,6.766087 L 63.998847,1.098327 L 63.9988,1.09833 z " style="fill:#004686;stroke:none" id="path12"></path>
              <path d="M 82.279,0.478444 L 76.77015,0.478444 C 75.06386,0.478444 73.78673,0.945243 73.03718,2.648414 L 62.45038,26.615614 L 69.93577,26.615614 C 69.93577,26.615614 71.15993,23.393464 71.43685,22.686104 C 72.255132,22.686104 79.52665,22.697323 80.56619,22.697323 C 80.779778,23.6126 81.433609,26.616183 81.433609,26.616183 L 88.048739,26.615615 L 82.279009,0.47841505 M 73.488229,17.336115 C 74.077869,15.829065 76.328359,10.025685 76.328359,10.025685 C 76.286607,10.094846 76.913455,8.511395 77.273601,7.529515 L 77.756021,9.783695 C 77.756021,9.783695 79.120491,16.027325 79.405791,17.336545 L 73.488231,17.336119 L 73.488229,17.336115 z " style="fill:#004686;stroke:none" id="path14"></path>
              <path d="M 25.0395,0.472763 L 18.06053,18.307863 L 17.316805,14.683823 C 16.017665,10.505213 11.969285,5.979243 7.443735,3.713023 L 13.825395,26.585123 L 21.367735,26.576176 L 32.590535,0.47277615 L 25.039535,0.47277615 L 25.0395,0.472763 z " style="fill:#004686;stroke:none" id="path16"></path>
              <path d="M 11.586,0.457 L 0.091,0.457 L -3.07e-005,1.00148 C 8.9428493,3.16577 14.860269,8.39797 17.316669,14.68378 L 14.817089,2.66528 C 14.385652,1.00926 13.133949,0.51519 11.585999,0.45697 L 11.586,0.457 z " style="fill:#ef9b11" id="path18"></path>
            </g>
          </svg>
          <img height="18" src="/img/globalsign.png">
          <img height="18" src="/img/payture.png">
        </div>
      </div>
    </div>
    <div class='sub-footer'>
      <!--<p itemscope itemtype="http://schema.org/Organization">Â© Roomp, {{ new Date().getFullYear() }}. {{__('footer.copyright')}}</p><a href='http://madebyfork.ru/'>Designed by Fork</a>-->
    </div>
  </footer>
</template>

<script>
  import {mapState, mapActions, mapMutations, mapGetters} from 'vuex';
  import categories from './pages';

  export default {
    data () {
      return {
        categories,
        email: ''
      }
    },
    props: ['home'],
    methods: {
      subscribe () {
        this.$store.commit('Footer/subscribe', this.email);
      },
      ...mapMutations(['footerToggle'])
    },
    computed: mapState(['footerVisible']),
    mounted () {
//      setTimeout(() => {
//        document.querySelector('body').innerHTML = JSON.stringify(getComputedStyle(document.querySelector('footer')).overflow);
//      }, 1000);
    }
  }
</script>